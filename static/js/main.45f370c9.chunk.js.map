{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","contexts/CardsContext.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/ImagePopup.js","utils/Api.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","serviceWorker.js","index.js"],"names":["Header","className","CurrentUserContext","React","createContext","Card","card","onCardClick","onLikeClick","onDeleteCard","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardLikeButtonClassName","src","link","alt","name","onClick","type","ArrCards","Main","onEditProfile","onAddPlace","onEditAvatar","cards","style","backgroundImage","avatar","about","map","item","key","Footer","PopupWithForm","title","children","isOpen","onClose","buttonText","onSubmit","action","noValidate","EditProfilePopup","onUpdateUser","useEffect","setName","setDescription","useState","descriprion","e","preventDefault","id","value","onChange","target","minLength","maxLength","required","ImagePopup","api","options","this","_url","url","Promise","all","getInitialCards","getUserInfo","res","ok","json","reject","Error","status","fetch","headers","authorization","method","then","_getResponceData","body","JSON","stringify","cardId","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","placeholder","AddPlacePopup","setLink","App","setCurrentUser","closeAllPopups","setIsEditProfilePopupOpen","setIsEditAvatarPopupOpen","setIsAddPlacePopupOpen","setSelectedCard","catch","err","console","log","isEditProfilePopupOpen","isAddPlacePopupOpen","isEditAvatarPopupOpen","selectedCard","setNewCards","Provider","setNewAvatar","patchUserInfo","postNewCard","newCard","deleteLikeCard","newCards","c","likeCard","deleteCard","filter","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.45f370c9.chunk.js","sourcesContent":["import React from 'react';\r\n// import './Header.css';\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className=\"header\"></header>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nexport const CurrentUserContext = React.createContext();\r\n\r\n// export { CurrentUserContext };","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\nexport default function Card({ card, onCardClick, onLikeClick, onDeleteCard }) {\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onLikeClick(card);\r\n  }\r\n\r\n  function handleDeleteCard() {\r\n    onDeleteCard(card);\r\n  }\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isOwn = card.owner._id === currentUser._id;\r\n\r\n  // const cardDeleteButtonClassName = `${\r\n  //   isOwn ? \"\" : \"foto-grid__delete-button_invisible\"\r\n  // }`;\r\n\r\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n  const cardLikeButtonClassName = `${\r\n    isLiked ? \"foto-grid__like-button_true\" : \"\"\r\n  }`;\r\n\r\n  return (\r\n    <div className=\"foto-grid__section\">\r\n      <button className=\"foto-grid__img-button\">\r\n        <img\r\n          src={card.link}\r\n          alt={card.name}\r\n          className=\"foto-grid__image\"\r\n          onClick={handleClick}\r\n        />\r\n      </button>\r\n      {isOwn && <button\r\n   className='foto-grid__delete-button'\r\n   onClick={handleDeleteCard}\r\n/>}\r\n      <div className=\"foto-grid__card\">\r\n        <h2 className=\"foto-grid__title\">{card.name}</h2>\r\n        <div>\r\n          <button\r\n            type=\"submit\"\r\n            className={`foto-grid__like-button ${cardLikeButtonClassName}`}\r\n            onClick={handleLikeClick}\r\n          ></button>\r\n          <p className=\"foto-grid__like-counter\"></p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nexport const ArrCards = React.createContext();","import React from \"react\";\r\nimport Card from \"./Card.js\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\nimport { ArrCards } from \"../contexts/CardsContext.js\";\r\n\r\nfunction Main({\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onEditAvatar,\r\n  onCardClick,\r\n  onLikeClick,\r\n  onDeleteCard,\r\n}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const cards = React.useContext(ArrCards);\r\n\r\n  return (\r\n    <main>\r\n      <section className=\"profile\">\r\n        <button\r\n          style={{ backgroundImage: `url(${currentUser.avatar})` }}\r\n          className=\"profile__avatar\"\r\n          onClick={onEditAvatar}\r\n        ></button>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__info-input\">\r\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            <p className=\"profile__prof\">{currentUser.about}</p>\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            className=\"profile__info-button\"\r\n            onClick={onEditProfile}\r\n          ></button>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__add-button\"\r\n          onClick={onAddPlace}\r\n        ></button>\r\n      </section>\r\n      <section className=\"foto-grid\">\r\n        {cards.map((item) => (\r\n          <Card\r\n            key={item._id}\r\n            onCardClick={onCardClick}\r\n            onLikeClick={onLikeClick}\r\n            onDeleteCard={onDeleteCard}\r\n            card={item}\r\n          />\r\n        ))}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (        \r\n        <footer className=\"footer\">\r\n        <p className=\"footer__author\">&copy; 2020 Mesto Russia</p>\r\n      </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;","import React from \"react\";\r\n\r\nexport default function PopupWithForm({\r\n  title,\r\n  name,\r\n  children,\r\n  isOpen,\r\n  onClose,\r\n  buttonText,\r\n  onSubmit,\r\n}) {\r\n  return (\r\n    <div className={`popup popup_type_${name} ${isOpen && \"popup_open\"} `}>\r\n      <div className=\"popup__container\">\r\n        <button\r\n          type=\"button\"\r\n          onClick={onClose}\r\n          className=\"popup__close-button\"\r\n        ></button>\r\n        <h3 className=\"popup__title\">{title}</h3>{\" \"}\r\n        <form action=\"#\" className=\"popup__form\" onSubmit={onSubmit} noValidate>\r\n          {children}\r\n          <button type=\"submit\" className=\"popup__save-button\">\r\n            {buttonText}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\nexport default function EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n  const [name, setName] = React.useState(\"\");\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  const [descriprion, setDescription] = React.useState(\"\");\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateUser({ name, about: descriprion }); // - не понятно - в каком виде у меня это появляется? вроде во вполне логичном, как есть, но что-то не работает, name читается\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Редактировать профиль\"\r\n      name=\"profile\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      buttonText=\"Сохранить\"\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        name=\"name\"\r\n        type=\"text\"\r\n        id=\"name-input\"\r\n        value={name || \"\"}\r\n        onChange={handleChangeName}\r\n        className=\"popup__input popup__input_name\"\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        required\r\n      />\r\n      <span id=\"name-input-error\" className=\"popup__input-error\"></span>\r\n      <input\r\n        name=\"about\"\r\n        type=\"text\"\r\n        id=\"self-input\"\r\n        value={descriprion || \"\"}\r\n        onChange={handleChangeDescription}\r\n        className=\"popup__input popup__input_prof\"\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        required\r\n      />\r\n      <span id=\"self-input-error\" className=\"popup__input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function ImagePopup({card, onClose}) {\r\n  return (\r\n    <div className={`popup popup_type_image ${card.link && \"popup_open\"}`}>\r\n      <div className=\"popup__container popup__container_img\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close-button\"\r\n          onClick={onClose}\r\n        ></button>\r\n        <img src={card.link} alt={card.name} className=\"popup__imgSrc\" />\r\n        <h3 className=\"popup__title popup__title_img-container\">{card.name}</h3>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","class Api {\r\n  constructor(options) {\r\n    this._url = options.url;\r\n    this._id = options.id;\r\n  }\r\n\r\n  getAppInfo() {\r\n    return Promise.all([this.getInitialCards(), this.getUserInfo()]);\r\n  }\r\n\r\n  _getResponceData(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(new Error(`Error ${res.status}`));\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._url}/cards`, {\r\n      headers: {\r\n        authorization: this._id,\r\n      },\r\n\r\n      method: \"GET\",\r\n    }).then(this._getResponceData);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      headers: {\r\n        authorization: this._id,\r\n      },\r\n\r\n      method: \"GET\",\r\n    }).then(this._getResponceData);\r\n  }\r\n\r\n  patchUserInfo({name, about}) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      headers: {\r\n        authorization: this._id,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n\r\n      method: \"PATCH\",\r\n\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: about,\r\n      }),\r\n    }).then(this._getResponceData);\r\n  }\r\n\r\n  postNewCard({name, link}) {\r\n    return fetch(`${this._url}/cards`, {\r\n      headers: {\r\n        authorization: this._id,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n\r\n      method: \"POST\",\r\n\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link,\r\n      }),\r\n    }).then(this._getResponceData);\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._url}/cards/${cardId}`, {\r\n      headers: {\r\n        authorization: this._id,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n\r\n      method: \"DELETE\",\r\n\r\n      body: JSON.stringify({\r\n        id: cardId,\r\n      }),\r\n    }).then(this._getResponceData);\r\n  }\r\n\r\n  likeCard(cardId) {\r\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n      headers: {\r\n        authorization: this._id,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n\r\n      method: \"PUT\",\r\n    }).then(this._getResponceData);\r\n  }\r\n\r\n  deleteLikeCard(cardId) {\r\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n      headers: {\r\n        authorization: this._id,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n\r\n      method: \"DELETE\",\r\n    }).then(this._getResponceData);\r\n  }\r\n\r\n  setNewAvatar({avatar}) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      headers: {\r\n        authorization: this._id,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n\r\n      method: \"PATCH\",\r\n\r\n      body: JSON.stringify({\r\n        avatar: avatar,\r\n      }),\r\n    }).then(this._getResponceData);\r\n  }\r\n}\r\n\r\nexport const api = new Api({\r\n  url: \"https://mesto.nomoreparties.co/v1/cohort-15\",\r\n  id: \"b7f21f02-0f3c-4a3e-ae62-e9761e3102fc\"\r\n})","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const avatarRef = React.useRef(\"\");\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Обновить аватар\"\r\n      name=\"avatar\"\r\n      children=\"\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      buttonText=\"Сохранить\"\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        name=\"link\"\r\n        type=\"url\"\r\n        ref={avatarRef}\r\n        id=\"link-input\"\r\n        className=\"popup__input popup__input_link\"\r\n        placeholder=\"Ссылка на аватар\"\r\n        required\r\n      />\r\n      <span id=\"link-input-error\" className=\"popup__input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n  const [name, setName] = React.useState();\r\n\r\n  const [link, setLink] = React.useState();\r\n  \r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onAddPlace({ name, link });\r\n  }\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeLink(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Новое место\"\r\n      name=\"add\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      buttonText=\"Создать\"\r\n      onSubmit={handleSubmit}\r\n    >\r\n      {\" \"}\r\n      <input\r\n        name=\"name\"\r\n        type=\"text\"\r\n        id=\"mark-input\"\r\n        value={name || \"\"}\r\n        onChange={handleChangeName}\r\n        className=\"popup__input popup__input_mark\"\r\n        placeholder=\"Название\"\r\n        minLength=\"1\"\r\n        maxLength=\"30\"\r\n        required\r\n      />\r\n      <span id=\"mark-input-error\" className=\"popup__input-error\"></span>\r\n      <input\r\n        name=\"link\"\r\n        type=\"url\"\r\n        id=\"link-input\"\r\n        value={link || \"\"}\r\n        onChange={handleChangeLink}\r\n        className=\"popup__input popup__input_link\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        required\r\n      />\r\n      <span id=\"link-input-error\" className=\"popup__input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React from \"react\";\nimport \"../index.css\";\nimport Header from \"./Header.js\";\nimport Main from \"./Main.js\";\nimport Footer from \"./Footer.js\";\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport EditProfilePopup from \"./EditProfilePopup.js\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport { api } from \"../utils/Api.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\nimport { ArrCards } from \"../contexts/CardsContext.js\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\n\nfunction App() {\n  const [currentUser, setCurrentUser] = React.useState({});\n\n  React.useEffect(() => {\n    api\n      .getUserInfo()\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard({});\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(\n    false\n  );\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(\n    false\n  );\n\n  const [selectedCard, setSelectedCard] = React.useState({});\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    if (!isLiked) {\n      api.likeCard(card._id).then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n\n        setNewCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    } else {\n      api.deleteLikeCard(card._id).then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n\n        setNewCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    }\n  }\n\n  function handleDeleteCard(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        const newCards = cards.filter((c) => {\n          return c._id !== card._id;\n        });\n        setNewCards(newCards);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleUpdateUser({ name, about }) {\n    api.patchUserInfo({ name, about }).then((res) => {\n      setCurrentUser(res);\n      closeAllPopups();\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    api.setNewAvatar({ avatar }).then((res) => {\n      setCurrentUser(res);\n      closeAllPopups();\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  function handleAddPlaceSubmit({ name, link }) {\n    api.postNewCard({ name, link }).then((newCard) => {\n      setNewCards([newCard, ...cards]);\n      closeAllPopups();\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  //--------------------- КАРТОЧКИ ----------------//\n\n  const [cards, setNewCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api\n      .getInitialCards()\n      .then((res) => {\n        setNewCards(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <ArrCards.Provider value={cards}>\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n\n          <PopupWithForm\n            title=\"Вы уверены?\"\n            name=\"card-delete\"\n            buttonText=\"Да\"\n          ></PopupWithForm>\n\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n          />\n\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n          <Header />\n          <Main\n            onEditProfile={handleEditProfileClick}\n            onEditAvatar={handleEditAvatarClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            onLikeClick={handleCardLike}\n            onDeleteCard={handleDeleteCard}\n          />\n          <Footer />\n        </ArrCards.Provider>\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}